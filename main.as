package com{	import flash.display.Sprite;	import flash.geom.ColorTransform;	import flash.events.*;		public class main extends Sprite {						//width and height of character		private var charWidth=32;		private var charHeight=32;		//width and height of tile		private var tileW= 16;		private var tileH=16;				var yoffset:Number=160;		var xoffset:Number=90;		//number of states of tile		private var numStates = 2;		private var _map:Array = [ 		[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1], 		[1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],		[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],		[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],		[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1]		];				//number pixels moved on key press		private var speed:Number = 32;		//MAKING COLOR		//5 available colors		private var crowdmanColorArray:Array= [0x33FFCC,0xFF9966,0xCC99FF,0x0099FF,0x000000];		private var map_container:Sprite = new Sprite();		private var object_container:Sprite = new Sprite();		public function main():void {						//build map			buildMap(_map);			addChild(map_container);			addChild(object_container);		}																						private function buildMap(map:Array):void {									var numTilesAcross = map[0].length;			var numTilesDown = map.length;			//loop down and across board creating instance of library tile from class Tile			for (var i = 0; i < numTilesDown; i++) {				for (var j=0; j< numTilesAcross; j++) {					var tile:Tile = new Tile(); 		//A TILE IS PLACED 					tile.gotoAndStop(map[i][j] + 1);					tile.y = i*tileH+yoffset;					tile.x= j*tileW+xoffset;					map_container.addChild(tile);															var crowdman:Crowd = new Crowd(); 		//A CROWD MAN IS PLACED 					//crowdman.gotoAndStop(map[i][j] + 1);					crowdman.y = i*tileH+yoffset;					crowdman.x= j*tileW+xoffset;					map_container.addChild(crowdman);															//A CROWD MAN RANDOM COLOR IS PUT										var crowdmanColor:uint = crowdmanColorArray[randrange(0,crowdmanColorArray.length)];  //color is random					var colorInfo:ColorTransform = crowdman.transform.colorTransform;					colorInfo.color = crowdmanColor;					crowdman.transform.colorTransform = colorInfo;																								}			}						//trace("tiles across "+numTilesAcross+" tiles down "+numTilesDown );			trace("return "+ 0);		}		//make all crowd stand up for inifinite length of time		public function standup():void{			var numTiles = map_container.numChildren;			for (var i = 0; i < numTiles; i++) {;			var tile; 			tile = map_container.getChildAt(i);				tile.gotoAndStop(5);				//trace(i);				//trace(map_container.getChildAt(numTiles));				//.gotoAndStop(2);			}		}		//keyboard control		public function handleKeyPress(event:KeyboardEvent):void {						var dir;			if ( event.keyCode == 38  ) {				dir = "up";			} else if (event.keyCode== 40 ) {				dir = "down";			} else if (event.keyCode== 37 ) {				dir = "left";			} else if (event.keyCode== 39 ) {				dir = "right";			} else {				dir = null;			}			trace("moving "+dir);								}				//random function		private function randrange(min:Number, max:Number)		{				var randnum:Number;			randnum = Math.floor( Math.random()*(max-min+1) ) + min;			return randnum;		}	}}